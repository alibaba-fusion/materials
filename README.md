# Materials

Based on [Fusion Components](https://github.com/alibaba-fusion/next) and [ice.js Framework](https://github.com/alibaba/ice). 

## Setup

```bash
$ npm run setup
```

## Develop

> See [Material Development Guide](https://ice.work/docs/materials/about) to learn more.

```bash
# block
$ cd blocks/ExampleBlock
$ npm install
$ npm run start
```

### Scaffolds

Each scaffold in the scaffolds folder is generated by a configuration file `.template/scaffold.json`, please do not manually modify the contents of the scaffold.

Generate scaffold command:

```bash
$ cd materials/
$ node scripts/generate.js fusion-design-pro
```

### Batch Publishing Blocks

```bash
$ cd materials/
$ node scripts/publish-blocks.js
```

### Add New Material

```bash
$ iceworks add  # select block|component|scaffold|page
```

## Publish

### Generate Materials Data

```bash
$ iceworks generate
```

### Publish Materials Data

```bash
# sync to fusion material center
$ iceworks sync

# sync to oss, will work in Iceworks
$ ACCESS_KEY_ID=xxx ACCESS_KEY_SECRET=yyy node scripts/oss/upload.js
```

## Usage

1. Install [Iceworks for VS Code](https://marketplace.visualstudio.com/items?itemName=iceworks-team.iceworks)
  ![install iceworks](https://img.alicdn.com/tfs/TB1EdEDfODsXe8jSZR0XXXK6FXa-1446-906.gif)
2. Add the materials data URL to Iceworks
  ![add custom material](https://img.alicdn.com/tfs/TB1g9iMjTM11u4jSZPxXXahcXXa-1446-906.gif)

See [Custom Material](https://ice.work/docs/iceworks/guide/material) to learn more about how to use materials in Iceworks.